{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,QAASC,SAASC,cAAc,eAChCC,MAAOF,SAASC,cAAc,gBAC9BE,aAAcH,SAASC,cAAc,sBACrCG,WAAYJ,SAASC,cAAc,qBAI/BI,EAAST,EAAAU,QACZC,KACC,CAACC,EAAOC,IACN,sEACmCD,EAAME,oFAG5BF,EAAMG,sCACEH,EAAME,sCACPD,wBACPD,EAAMI,0DAKtBC,KAAK,IACRf,EAAKC,QAAQe,mBAAmB,aAAcT,GAGrB,MAcnBU,EAAaC,IAEiB,mBAAhCA,EAAMC,OAAOC,QAAQC,QACM,sBAA3BH,EAAMC,OAAOG,WACE,WAAfJ,EAAMK,OAENvB,EAAKM,WAAWkB,IAAM,GACtBxB,EAAKM,WAAWmB,IAAM,GACtBzB,EAAKM,WAAWoB,UAAUC,IAAI,aAC9B3B,EAAKM,WAAWc,QAAQT,MAAQ,GAChCX,EAAKI,MAAMsB,UAAUE,OAAO,WAC5BC,OAAOC,oBAAoB,UAAWb,GACtCY,OAAOC,oBAAoB,UAAWC,GAExC,EAIIA,EAASb,IACb,MAAMc,EAAe9B,SAASC,cAAc,4BACtC8B,EAAY/B,SAASgC,iBAAiB,UAC5C,IAAIC,EAAaC,OAAOpC,EAAKM,WAAWc,QAAQT,OAE7B,cAAfO,EAAMK,OACRY,GAAc,EACVA,EAAa,IACfA,EAAaF,EAAUI,OAAS,GAElCC,EAAcL,EAAWD,EAAcG,IAGtB,eAAfjB,EAAMK,OACRY,GAAc,EACVA,GAAcF,EAAUI,SAC1BF,EAAa,GAEfG,EAAcL,EAAWD,EAAcG,GAEzC,EAIIG,EAAgB,CAACL,EAAWD,EAAcG,KAC9CH,EAAaR,IAAMS,EAAUE,GAAYf,QAAQmB,OACjDP,EAAaZ,QAAQT,MAAQsB,EAAUE,GAAYf,QAAQT,MAC3DqB,EAAaP,IAAMQ,EAAUE,GAAYV,GAAG,EAI9CzB,EAAKC,QAAQuC,iBAAiB,SA/DZtB,IAChBA,EAAMuB,iBACNZ,OAAOW,iBAAiB,UAAWT,GACnCF,OAAOW,iBAAiB,UAAWvB,GACL,QAA1BC,EAAMC,OAAOuB,WACf1C,EAAKI,MAAMsB,UAAUC,IAAI,WACzB3B,EAAKM,WAAWkB,IAAMN,EAAMC,OAAOC,QAAQmB,OAC3CvC,EAAKM,WAAWmB,IAAMP,EAAMC,OAAOM,IACnCzB,EAAKM,WAAWc,QAAQT,MAAQO,EAAMC,OAAOC,QAAQT,MAEvD,IAsDFX,EAAKI,MAAMoC,iBAAiB,QAASvB,GACrCjB,EAAKM,WAAWkC,iBAAiB,UAAWvB","sources":["src/js/app.js"],"sourcesContent":["import galleryItems from './gallery-items';\n\nconst root = {\n  gallery: document.querySelector('.js-gallery'),\n  modal: document.querySelector('.js-lightbox'),\n  modalOverlay: document.querySelector('.lightbox__overlay'),\n  modalImage: document.querySelector('.lightbox__image'),\n};\n\n//Создаем галлерею по шаблону и добавляем блок галереи в HTML\nconst images = galleryItems\n  .map(\n    (image, index) =>\n      `<li class=\"gallery__item\">\n        <a class=\"gallery__link\" href=\"${image.original}\">\n          <img\n            class=\"gallery__image\"\n            src=\"${image.preview}\"\n            data-source=\"${image.original}\"\n            data-index=\"${index}\"\n            alt=\"${image.description}\"\n          />\n        </a>\n      </li>`\n  )\n  .join('');\nroot.gallery.insertAdjacentHTML('afterbegin', images);\n\n//При открытии модального окна\nconst openModal = event => {\n  event.preventDefault();\n  window.addEventListener('keydown', slider);\n  window.addEventListener('keydown', closeModal);\n  if (event.target.nodeName === 'IMG') {\n    root.modal.classList.add('is-open');\n    root.modalImage.src = event.target.dataset.source;\n    root.modalImage.alt = event.target.alt;\n    root.modalImage.dataset.index = event.target.dataset.index;\n  }\n  return;\n};\n\n//При закрытии модального окна\nconst closeModal = event => {\n  if (\n    event.target.dataset.action === 'close-lightbox' ||\n    event.target.className === 'lightbox__overlay' ||\n    event.code === 'Escape'\n  ) {\n    root.modalImage.src = '';\n    root.modalImage.alt = '';\n    root.modalImage.classList.add('activeImg');\n    root.modalImage.dataset.index = '';\n    root.modal.classList.remove('is-open');\n    window.removeEventListener('keydown', closeModal);\n    window.removeEventListener('keydown', slider);\n  }\n  return;\n};\n\n//Прокрутка галлерии стрелками\nconst slider = event => {\n  const currentImage = document.querySelector('.lightbox__content > img');\n  const allImages = document.querySelectorAll('ul img');\n  let indexImage = Number(root.modalImage.dataset.index);\n\n  if (event.code === 'ArrowLeft') {\n    indexImage -= 1;\n    if (indexImage < 0) {\n      indexImage = allImages.length - 1;\n    }\n    setSliderData(allImages, currentImage, indexImage);\n  }\n\n  if (event.code === 'ArrowRight') {\n    indexImage += 1;\n    if (indexImage >= allImages.length) {\n      indexImage = 0;\n    }\n    setSliderData(allImages, currentImage, indexImage);\n  }\n  return;\n};\n\n//Добавление атрибутов изображениям в слайдере\nconst setSliderData = (allImages, currentImage, indexImage) => {\n  currentImage.src = allImages[indexImage].dataset.source;\n  currentImage.dataset.index = allImages[indexImage].dataset.index;\n  currentImage.alt = allImages[indexImage].alt;\n};\n\n//Слушатели событий при открытом и закрытом модальном окне\nroot.gallery.addEventListener('click', openModal);\nroot.modal.addEventListener('click', closeModal);\nroot.modalImage.addEventListener('keydown', closeModal);\n"],"names":["$azrga","parcelRequire","$ce77af30fc9a6e63$var$root","gallery","document","querySelector","modal","modalOverlay","modalImage","$ce77af30fc9a6e63$var$images","default","map","image","index","original","preview","description","join","insertAdjacentHTML","$ce77af30fc9a6e63$var$closeModal","event","target","dataset","action","className","code","src","alt","classList","add","remove","window","removeEventListener","$ce77af30fc9a6e63$var$slider","currentImage","allImages","querySelectorAll","indexImage","Number","length","$ce77af30fc9a6e63$var$setSliderData","source","addEventListener","preventDefault","nodeName"],"version":3,"file":"index.e78fc68a.js.map"}